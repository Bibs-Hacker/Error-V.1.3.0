<!DOCTYPE html>
<html lang="en" data-theme="cyber" manifest="manifest.json">
<head>
<meta charset="UTF-8">
<title>NEON FORGE 2077 | BIOMETRIC GATE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Roboto+Mono&display=swap" rel="stylesheet">
<style>
/* ========================================
   NEON FORGE 2077 vBIOMETRIC - FINGERPRINT SCAN
   CYBERPUNK SOUNDS | IMMERSIVE ANIMATIONS
   ======================================== */

*{margin:0;padding:0;box-sizing:border-box;}
html,body{height:100%;background:#000;color:#0ff;font-family:'Roboto Mono',monospace;overflow:hidden;position:relative;}
a{color:inherit;text-decoration:none;}

/* ROOT */
:root{
  --neon-cyan:#0ff;--neon-magenta:#f0f;--neon-pink:#ff1a8c;--neon-yellow:#ffff33;
  --grid:#222;--scan:#00ffcc44;--rain:#0ff;--holo:#0ff44;
}

/* 3D CITY */
#city-canvas{position:fixed;inset:0;z-index:-1;pointer-events:none;}

/* MATRIX + GRID */
#bg-canvas{position:fixed;inset:0;z-index:0;pointer-events:none;opacity:0.85;}
#grid-overlay{position:fixed;inset:0;background:repeating-linear-gradient(0deg,#222 0px,#222 1px,#000 1px,#000 2px),repeating-linear-gradient(90deg,#222 0px,#222 1px,#000 1px,#000 2px);opacity:0.45;animation:gridPulse 5s infinite;}
@keyframes gridPulse{0%,100%{opacity:0.45}50%{opacity:0.65}}

/* GLITCH */
.glitch{
  color:#fff;text-shadow:0 0 15px var(--neon-cyan),0 0 30px var(--neon-magenta),0 0 50px var(--neon-pink);
  animation:glitch 1.2s infinite, holoFlicker 0.08s infinite alternate;
}
@keyframes glitch{0%,100%{clip-path:polygon(0 0,100% 0,100% 30%,0 30%)}20%{clip-path:polygon(0 40%,100% 40%,100% 60%,0 60%)}40%{clip-path:polygon(0 70%,100% 70%,100% 90%,0 90%)}}
@keyframes holoFlicker{from{opacity:1}to{opacity:0.85}}

/* GATE - FULLSCREEN BIOMETRIC */
#gate{position:fixed;inset:0;z-index:9999;background:#000;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:40px;transition:opacity 3s ease-out, transform 3s ease-out;}
#gate.fade{opacity:0;transform:scale(0.8);pointer-events:none;}
#gate-logo{width:400px;height:400px;}
#gate-logo svg{width:100%;height:100%;filter:drop-shadow(0 0 120px var(--neon-cyan));animation:brainPulse 3s infinite, float 6s infinite;}
.neon-path{stroke:#fff;stroke-width:12;fill:none;stroke-dasharray:800;stroke-dashoffset:800;animation:drawBrain 6s linear infinite, colorShift 4s infinite;}
.neon-fill{fill:#f0f;animation:colorShift 4s infinite;}
.neuron{fill:#0ff;animation:neuronFlash 1.5s infinite;}
.hack-wave{stroke:#0f0;stroke-width:6;opacity:0;animation:waveScan 2s infinite;}
@keyframes brainPulse{0%,100%{filter:drop-shadow(0 0 120px var(--neon-cyan))}50%{filter:drop-shadow(0 0 200px var(--neon-cyan),0 0 300px var(--neon-magenta))}}
@keyframes drawBrain{to{stroke-dashoffset:0;}}
@keyframes colorShift{0%{stroke:#0ff;fill:#f0f}50%{stroke:#f0f;fill:#0ff}100%{stroke:#0ff;fill:#f0f}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-50px)}}
@keyframes neuronFlash{0%,100%{opacity:0.4}50%{opacity:1}}
@keyframes waveScan{0%{opacity:0;transform:translateY(0)}50%{opacity:0.8}100%{opacity:0;transform:translateY(100px)}}

/* FINGERPRINT SCANNER */
#scanner{
  width:300px;height:300px;background:#001;border:5px solid var(--neon-cyan);border-radius:50%;position:relative;
  box-shadow:0 0 80px var(--neon-cyan);cursor:pointer;animation:scannerGlow 2s infinite;
}
#scanner::before{
  content:'';position:absolute;inset:20px;background:radial-gradient(circle, #0ff 0%, transparent 70%);border-radius:50%;opacity:0;
  animation:scanPulse 2s infinite;
}
#scanner::after{
  content:'TOUCH TO SCAN';position:absolute;inset:0;display:flex;justify-content:center;align-items:center;
  font-size:1.5rem;color:#fff;text-shadow:0 0 20px #0ff;animation:pulse 2s infinite;
}
@keyframes scannerGlow{0%,100%{box-shadow:0 0 80px var(--neon-cyan)}50%{box-shadow:0 0 160px var(--neon-cyan),0 0 240px var(--neon-magenta)}}
@keyframes scanPulse{0%,100%{opacity:0;transform:scale(0.8)}50%{opacity:0.8;transform:scale(1.2)}}
#fingerprint{
  position:absolute;inset:50px;background:url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBkPSJNNTAgMTAgQjc1IDMwIDc1IDUwIDUwIDkwIFEgMjUgNTAgMjUgMzAgNTAgMTB6IiBmaWxsPSJub25lIiBzdHJva2U9IiMwZmYiIHN0cm9rZS13aWR0aD0iNSIvPjwvc3ZnPg==') center/contain no-repeat;opacity:0;
  animation:fingerReveal 1s forwards;
}
@keyframes fingerReveal{0%{opacity:0;transform:scale(0)}100%{opacity:1;transform:scale(1)}}

#warning{color:#f00;font-size:2.8rem;font-weight:bold;animation:blink 0.8s infinite;text-shadow:0 0 30px #f00;}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0.5}}

#enter-btn{padding:20px 50px;background:var(--neon-magenta);color:#000;border:none;border-radius:50px;font-weight:bold;cursor:pointer;box-shadow:0 0 60px var(--neon-magenta);font-size:1.8rem;transition:0.4s;}
#enter-btn:hover{transform:scale(1.1);box-shadow:0 0 120px var(--neon-magenta);}

/* UNDERAGE FLATLINE */
#underage{display:none;position:fixed;inset:0;background:#000;z-index:9999;flex-direction:column;justify-content:center;align-items:center;gap:30px;}
#underage.active{display:flex;}
#flatline{color:#f00;font-size:4rem;animation:glitch 0.5s infinite;}
#flatline-msg{color:#fff;font-size:2rem;text-align:center;max-width:80%;}

/* APP */
#app{opacity:0;transition:opacity 2s;}
#app.active{opacity:1;}

/* ... REST OF STYLES UNCHANGED ... */
</style>
</head>
<body>

<!-- 3D CITY -->
<canvas id="city-canvas"></canvas>

<!-- MATRIX RAIN -->
<canvas id="bg-canvas"></canvas>
<div id="grid-overlay"></div>

<!-- BIOMETRIC GATE -->
<div id="gate">
  <div id="gate-logo">
    <svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
      <!-- NEON BRAIN -->
      <path class="neon-path" d="M200 100 Q120 180 120 250 Q120 320 200 350 Q280 320 280 250 Q280 180 200 100"/>
      <path class="neon-path" d="M200 100 Q280 180 280 250"/>
      <path class="neon-path" d="M200 100 Q120 180 120 250"/>
      <path class="neon-path" d="M160 150 Q200 140 240 150"/>
      <path class="neon-path" d="M160 200 Q200 190 240 200"/>
      <path class="neon-path" d="M160 250 Q200 240 240 250"/>
      <path class="neon-path" d="M160 300 Q200 290 240 300"/>
      <circle class="neuron" cx="150" cy="180" r="15"/>
      <circle class="neuron" cx="250" cy="180" r="15"/>
      <circle class="neuron" cx="180" cy="240" r="12"/>
      <circle class="neuron" cx="220" cy="240" r="12"/>
      <circle class="neuron" cx="200" cy="280" r="18"/>
      <path class="hack-wave" d="M100 200 Q200 180 300 200" style="animation-delay:0s"/>
      <path class="hack-wave" d="M100 220 Q200 200 300 220" style="animation-delay:0.5s"/>
      <path class="hack-wave" d="M100 240 Q200 220 300 240" style="animation-delay:1s"/>
      <circle class="neon-fill" cx="200" cy="200" r="40"/>
      <text x="170" y="210" fill="#000" font-size="30" font-weight="bold">NF</text>
    </svg>
  </div>
  <h1 class="glitch" data-text="NEON FORGE 2077">NEON FORGE 2077</h1>
  <p style="font-size:2rem;animation:pulse 1.8s infinite; color:#0ff;">BIOMETRIC SCAN REQUIRED</p>
  <p id="warning">⚠️ 18+ NEURAL IMPLANT ONLY ⚠️</p>
  <div id="scanner">
    <div id="fingerprint"></div>
  </div>
  <button id="enter-btn">SYNAPSE BURST</button>
</div>

<!-- UNDERAGE FLATLINE -->
<div id="underage">
  <h1 id="flatline" class="glitch" data-text="FLATLINE">FLATLINE</h1>
  <p id="flatline-msg">NEURAL REJECT<br>CHROME DENIED<br>RETURN WHEN IMPLANTED</p>
  <button onclick="location.reload()">RETRY SCAN</button>
</div>

<!-- APP -->
<div id="app">
  <!-- ... APP CONTENT UNCHANGED ... -->
</div>

<script>
// PWA
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('sw.js');
  });
}

// 3D CITY + MATRIX + PARTICLES (unchanged)
... 

// CYBERPUNK SOUNDS
const sounds = {
  scan: new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXr
... (full base64 for scan beep)
  success: new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXr
... 
  fail: new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXr
...
};

// FINGERPRINT SCAN SIMULATION
const scanner = document.getElementById('scanner');
const fingerprint = document.getElementById('fingerprint');
let scanActive = false;

scanner.addEventListener('click', () => {
  if (scanActive) return;
  scanActive = true;
  sounds.scan.play();
  fingerprint.style.animation = 'fingerReveal 1s forwards';
  scanner.style.animation = 'scannerGlow 0.5s infinite';

  setTimeout(() => {
    sounds.success.play();
    document.getElementById('gate').classList.add('fade');
    setTimeout(() => {
      document.getElementById('gate').style.display = 'none';
      document.getElementById('app').classList.add('active');
    }, 3000);
  }, 3000);
});

// UNDERAGE SIMULATION (for demo)
document.getElementById('enter-btn').onclick = () => {
  sounds.fail.play();
  document.getElementById('underage').classList.add('active');
};

// REAL FINGERPRINT API (mobile)
if ('Fingerprint' in window) {
  scanner.addEventListener('click', () => {
    Fingerprint.show({
      description: 'Scan fingerprint to jack in'
    }, () => {
      sounds.success.play();
      // Success - fade gate
    }, () => {
      sounds.fail.play();
      document.getElementById('underage').classList.add('active');
    });
  });
}

// ... REST OF APP JS ...
</script>
<script src="https://cdn.jsdelivr.net/npm/three@0.157.0/build/three.min.js"></script>
</body>
   </html>
